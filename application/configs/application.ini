
;
; !!! WARNING: DO NOT EDIT THIS FILE !!!
;


; This file is part of OPUS. The software OPUS has been originally developed
; at the University of Stuttgart with funding from the German Research Net,
; the Federal Department of Higher Education and Research and the Ministry
; of Science, Research and the Arts of the State of Baden-Wuerttemberg.
;
; OPUS 4 is a complete rewrite of the original OPUS software and was developed
; by the Stuttgart University Library, the Library Service Center
; Baden-Wuerttemberg, the Cooperative Library Network Berlin-Brandenburg,
; the Saarland University and State Library, the Saxon State Library -
; Dresden State and University Library, the Bielefeld University Library and
; the University Library of Hamburg University of Technology with funding from
; the German Research Foundation and the European Regional Development Fund.
;
; LICENCE
; OPUS is free software; you can redistribute it and/or modify it under the
; terms of the GNU General Public License as published by the Free Software
; Foundation; either version 2 of the Licence, or any later version.
; OPUS is distributed in the hope that it will be useful, but WITHOUT ANY
; WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
; FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
; details. You should have received a copy of the GNU General Public License
; along with OPUS; if not, write to the Free Software Foundation, Inc., 51
; Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
;
; @category    Application
; @author      Ralf Claussnitzer <ralf.claussnitzer@slub-dresden.de>
; @author      Thoralf Klein <thoralf.klein@zib.de>
; @author      Jens Schwidder <schwidder@zib.de>
; @author      Michael Lang <lang@zib.de>
; @copyright   Copyright (c) 2008-2017, OPUS 4 development team
; @license     http://www.gnu.org/licenses/gpl.html General Public License

; Database adapter configuration using standard Zend_db option names.
; Have a look on Zend_Db::factory() method for information about adapter creation.

[production]

; PHP SETTINGS
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
phpSettings.error_reporting = E_ALL & ~E_NOTICE & ~E_WARNING & ~E_DEPRECATED
phpSettings.date.timezone = Europe/Berlin

; ZEND SETTINGS
includePaths.library = APPLICATION_PATH "/library"
bootstrap.path = APPLICATION_PATH "/library/Application/Bootstrap.php"
bootstrap.class = "Application_Bootstrap"
appnamespace = "Application"
autoloaderNamespaces.opus = 'Opus_'
autoloaderNamespaces.app = 'Application_'

resources.modules[] = ""
resources.frontController.moduleDirectory = APPLICATION_PATH "/modules"
resources.frontController.params.displayExceptions = 0
resources.frontController.throwExceptions=0
resources.frontController.returnResponse=0

; DATABASE PROFILER - set to 1 to enable profiling (i.e. stacktrace on every db-connect)
db.debug = 0

; LOCALE SETTINGS
resources.locale.default = 'de'

; SUPPORTED LANGUAGES
supportedLanguages = de,en

;GENERAL SETTINGS
theme = opus4
name = 'OPUS 4'
logoLink = home
security = 1
workspacePath = APPLICATION_PATH "/workspace"
version = 4.6.3
update.latestVersionCheckUrl = "https://api.github.com/repos/opus4/application/releases/latest"
; base URL of your OPUS instance (used for generating absolute URLs, e.g. in email messages)
url = 'https://web.example.org/opus'

; OAI SETTINGS
oai.repository.name =
oai.repository.identifier =

oai.sample.identifier =
oai.max.listrecords = 100
oai.max.listidentifiers = 200
oai.baseurl =

oai.description.eprints.content.url =
oai.description.eprints.content.text = "OPUS 4 repository containing document metadata and fulltexts."
oai.description.eprints.metadataPolicy.url =
oai.description.eprints.metadataPolicy.text =
oai.description.eprints.dataPolicy.url =
oai.description.eprints.dataPolicy.text =
oai.description.eprints.submissionPolicy.url =
oai.description.eprints.submissionPolicy.text =
oai.description.eprints.comment.url =
oai.description.eprints.comment.text =

; ERROR CONTROLLER SETTINGS
errorController.showException = 0
errorController.showRequest = 0

; errorController.mailTo.name = root
; errorController.mailTo.address = root@localhost

;PUBLICATION SETTINGS
publish.maxfilesize = 10240000
publish.filenameMaxLength = 50
publish.filenameFormat = "^[a-zA-Z0-9][a-zA-Z0-9_.-]+$"
publish.filetypes.allowed = pdf,txt,html,htm ; filetypes that are accepted in publication form
publish.path.documenttypes = APPLICATION_PATH "/application/configs/doctypes"
publish.path.documenttemplates = APPLICATION_PATH "/application/configs/doctypes_templates"

;PUBLICATION/DEPOSIT COMPLETE: Set it to the confirmation page or any page the
;user should see after deposit.  (i.e. changing/adding document properties)
publish.depositComplete.action = confirm
publish.depositComplete.controller = deposit
publish.depositComplete.module = publish

;FORM SETTINGS
form.first.bibliographie = 0
form.first.require_upload = 0
form.first.enable_upload = 1
form.first.show_rights_checkbox = 1

; SECURITY SETTINGS
securityPolicy.files.defaultAccessRole = 'guest'

; SEARCH ENGINE SETTINGS
; client adapter to use on querying search engine
searchengine.solr.default.adapterClass = Opus_Search_Solr_Solarium_Adapter
; fields of faceted search to be considered
searchengine.solr.facets = author_facet,year,doctype,language,has_fulltext,belongs_to_bibliography,subject,institute
searchengine.solr.globalfacetlimit = 10
;searchengine.solr.facetlimit.subject = 30
;searchengine.solr.sortcrit.subject = lexi
; number of default search results
searchengine.solr.parameterDefaults.rows = 10
searchengine.solr.default.service.default.xsltfile = APPLICATION_PATH "/application/configs/solr/solr.xslt"
; maps fields returned by search engine onto local assets of related documents
searchengine.solr.default.service.default.fieldToAsset.title_output = title
searchengine.solr.default.service.default.fieldToAsset.abstract_output = abstract

search.result.display.preferUserInterfaceLanguage = 0

;DOCTYPE VALIDATION SCHEMA FILE
; TODO determine path dynamically (does this belong into the framework)
documentTypes.xmlSchema = APPLICATION_PATH "/vendor/opus4-repo/framework/library/Opus/Document/documenttype.xsd"

;GPG AND CHECKSUM SETTINGS
gpg.enable.user = 0 ; EXPERIMENTAL - does not work currently! Enable/Disable GPG-Keys for users
gpg.enable.admin = 0 ; Enable/Disable GPG-Keys for server maintainer
gpg.path = /usr/bin/gpg ; path to gpg including gpg binary, e.g. /usr/bin/gpg
gpg.keyring.path = /var/www ; path where the keyring is stored, e.g. /var/www - webserver must have writable access to this directory
checksum.maxVerificationSize = 50 ; maximum filesize in MB until that verification operations are done, 0 turns off verification operations completely, no value or -1 unlimits filesize

;E-MAIL DEFAULTS
mail.opus.smtp = localhost
mail.opus.port = 25
mail.opus.address = ; email address of administrator
mail.opus.name = ; Name of administrator

;NOTIFICATION SETTINGS
notification.document.submitted.enabled = 0
notification.document.submitted.email = ""
notification.document.submitted.template = "submitted.phtml"
notification.document.submitted.subject = "Dokument #%1$s im OPUS4-Dokumentenserver eingestellt: %2$s : %3$s"

notification.document.published.enabled = 0
notification.document.published.email = ""
notification.document.published.template = "published.phtml"
notification.document.published.subject = "Dokument #%1$s im OPUS4-Dokumentenserver veröffentlicht: %2$s : %3$s"

;CONFIRMATION SETTINGS
confirmation.document.statechange.enabled = 1

;ENRICHMENT KEY SETTINGS
enrichmentkey.protected.modules = review.accepted_by,review.rejected_by,reviewer.user_id,submitter.user_id
enrichmentkey.protected.migration = BemExtern,ClassRvk,ContributorsName,SourceTitle,SubjectUncontrolledEnglish,SubjectUncontrolledGerman,SubjectSwd,SourceSwb,InvalidVerification

;CLEARING MODULE SETTINGS
clearing.setPublishedDate = 0 ; Turn on (= 1) to set the publishedDate when publishing documents (unpublished->published)
clearing.addPersonReferee = 1 ; Turn on (= 1) to add a PersonReferee when publishing a document (TODO implement)
clearing.addCurrentUserAsReferee = 0 ; Turn on (= 1) to set logged in user that switches document to published as PersonReferee

;ACCOUNT MODULE SETTINGS
account.changeLogin = 1; Turn on to allow users to change their own account login
account.editOwnAccount = 1 ; Turn on to allow users to edit their own account information
account.editPasswordOnly = 0 ; Turn on to restrict editing to just the password

;ADMIN MODULE SETTINGS
admin.documents.defaultview = 'unpublished' ; 'published', 'unpublished', 'deleted'
admin.documents.maxDocsDefault = 10
admin.documents.maxDocsOptions = 10,50,100,all
admin.documents.linkToAuthorSearch = 0

; LOGGING CONFIGURATION (OPTIONAL)
; Use names of Zend_Log constants (e.g. DEBUG, INFO, WARN, ERR)
log.level = WARN

;LOGGING RELATED SETTINGS
; if set to true all xml that is generated while indexing is prepared for logging
log.prepare.xml = false
log.untranslated = false

; PATH TO JQUERY JAVASCRIPT LIBRARY (relative to public)
javascript.jquery.path = assets/jquery/jquery.js
javascript.jqueryui.path = assets/jquery-ui/jquery-ui.js
css.jqueryui.path = assets/jquery-ui/themes/base/jquery-ui.css

; HELP RELATED SETTINGS
; display a separate page for each faq
help.separate = false

frontdoor.numOfShortAbstractChars = 0
frontdoor.files.customSorting = 1
frontdoor.subjects.alphabeticalSorting = 0

; Visibility of fields in frontdoor (right now just BelongsToBibliography)
frontdoor.metadata.BelongsToBibliography = 0

; PLUGINS
plugins.export.default.class = 'Export_Model_XmlExport'
plugins.export.default.maxDocumentsGuest = 100
plugins.export.default.maxDocumentsUser = 500

; TODO configure in bootstrap of modules
plugins.export.bibtex.class = 'Export_Model_XsltExport'
plugins.export.bibtex.stylesheet = 'bibtex'
plugins.export.bibtex.contentType = 'text/plain'
plugins.export.bibtex.attachmentFilename = 'export.bib'

plugins.export.ris.class = 'Export_Model_XsltExport'
plugins.export.ris.stylesheet = 'ris'
plugins.export.ris.contentType = 'text/plain'
plugins.export.ris.attachmentFilename = 'export.ris'

plugins.export.csv.class = 'Export_Model_XsltExport'
plugins.export.csv.stylesheet = 'csv'
plugins.export.csv.contentType = 'text/csv'
plugins.export.csv.attachmentFilename = 'export.csv'

; PUBLICATION LIST PLUGIN SETTINGS
plugins.export.publist.class = 'Export_Model_PublistExport'
plugins.export.publist.stylesheet = 'default'
plugins.export.publist.stylesheetDirectory = 'publist'

; BROWSING SETTINGS
browsing.disableEmptyCollections = 1
browsing.series.sortByTitle = 0

; SERIES SETTINGS
; If series.sortByTitle is enabled (1) the sort_order will be ignored and series
; will always be sorted by title.
series.sortByTitle = 0

; URN Settings
urn.resolverUrl =  https://nbn-resolving.org/
; soll bei Dokumenten ohne URN beim Veröffentlichen automatisch eine URN generiert und zugewiesen werden
; diese Einstellung kann auf pro Dokument überschrieben werden (durch eine Checkbox im Dokument-Edit-Formular im
; Administrationsbereich, die das Enrichment "opus.urn.autoCreate" steuert)
; als mögliche Werte können 1/true (Generierung aktiviert) bzw. 0/false (Generierung deaktiviert) verwendet werden
;
; Achtung: eine URN für ein Dokument wird von der Klasse Opus_Document_Plugin_IdentifierUrn nur dann generiert,
; wenn das Dokument mindestens eine zugeordnete Datei hat, die das Flag "visibleInOai" mit dem Wert "true" besitzt
urn.autoCreate = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;                                    ;
; DOI related configuration settings ;
;                                    ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; Resolver-URL für DOIs
doi.resolverUrl = 'https://doi.org/'

; steuert, ob lokale DOIs automatisch bei DataCite registriert werden, wenn ein Dokument freigeschaltet wird
; als mögliche Werte können 1/true (Registrierung aktiviert) bzw. 0/false (Registrierung deaktiviert) verwendet werden
doi.registerAtPublish = false

; soll bei Dokumenten ohne vorhandene DOI beim Veröffentlichen automatisch eine DOI generiert und zugewiesen werden
; diese Einstellung kann pro Dokument überschrieben werden (durch eine Checkbox im Dokument-Edit-Formular im
; Administrationsbereich, die das Enrichment "opus.doi.autoCreate" steuert)
; als mögliche Werte können 1/true (Generierung aktiviert) bzw. 0/false (Generierung deaktiviert) verwendet werden
doi.autoCreate = false

; die beiden Parameter doi.registerAtPublish und doi.autoCreate können unabhängig voneinander gesetzt werden
;
; Es sind daher vier Fälle möglich (generell werden DOIs nur dann generiert, wenn das Dokument nicht bereits eine DOI
; besitzt):
;
; Fall 1: doi.registerAtPublish == false UND doi.autoCreate == false
; (dieser Fall entspricht dem Verhalten vor der Einführung des DOI-Supports in OPUS4)
; es findet keine automatische Registrierung von lokalen DOIs bei DataCite statt
; eine Generierung von DOIs beim Veröffentlichen erfolgt nur, wenn der Nutzer die Checkbox "DOI-Autogenerierung"
; explizit anwählt
;
; Fall 2: doi.registerAtPublish == true UND doi.autoCreate == true
; es erfolgt eine automatische Registrierung von lokalen DOIs bei DataCite
; es erfolgt eine automatische Generierung von DOIs beim Veröffentlichen, sofern der Nutzer die Checkbox "DOI-Autogenerierung"
; nicht explizit abgewählt hat
;
; Fall 3: doi.registerAtPublish == true UND doi.autoCreate == false
; es erfolgt eine automatische Registrierung von lokalen DOIs bei DataCite
; eine Generierung von DOIs beim Veröffentlichen erfolgt nur, wenn der Nutzer die Checkbox "DOI-Autogenerierung"
; explizit anwählt
;
; 4. doi.registerAtPublish == false UND doi.autoCreate == true
; es findet keine automatische Registrierung von lokalen DOIs bei DataCite statt
; es erfolgt eine automatische Generierung von DOIs beim Veröffentlichen, sofern der Nutzer die Checkbox "DOI-Autogenerierung"
; nicht explizit abgewählt hat


; Präfix für Vergabe von neuen DOIs (wird i.d.R. von DataCite zugeteilt). DOIs mit anderem Präfix können nicht registriert werden.
doi.prefix = ''
; Lokaler Präfix für DOIs, die vom OPUS4-System generiert werden. Kann frei vom OPUS4-Instanzbetreiber gewählt werden.
doi.localPrefix = ''
; optionale Möglichkeit das Format des DOI-Suffixes zu definieren, z.B. "${docId}-${datePublished}"
doi.suffixFormat = ''
; Klasse, die für die Generierung von DOIs zuständig ist. Die Defaultklasse unterstützt ausschließlich
; das SuffixFormat "${localPrefix}-${docId}" (daher wird der Wert von doi.suffixFormat wird nicht betrachtet).
doi.generatorClass = 'Opus_Doi_Generator_DefaultGenerator'
; Nutzername für DataCite Metadata Store (MDS)
doi.registration.datacite.username = ''
; Passwort für DataCite Metadata Store (MDS)
doi.registration.datacite.password = ''
; Service-URL für DataCite Registrierungsserver
doi.registration.datacite.serviceUrl = 'https://mds.datacite.org'
; Quota für Zugriff auf DataCite Registrierungsserver (wird vorerst nicht ausgewertet)
doi.registration.datacite.quota = ''
; aktiviert bzw. deaktiviert das Verschicken von Benachrichtigungen für (fehlgeschlagene) Registrierungen
doi.notificationEmailEnabled = false
; E-Mail-Adresse(n) für Notifikationsnachrichten für registrierte DOIs (Arrray)
; bitte geben Sie eine Konfigurationszeile pro E-Mailadresse an
doi.notificationEmail[] = ''

; ORCiD Settings
orcid.baseUrl = https://orcid.org/
orcid.linkAuthor.frontdoor = 1

; GND Settings
gnd.baseUrl = http://d-nb.info/gnd/
gnd.linkAuthor.frontdoor = 1

; Google Scholar Settings
googleScholar.openInNewWindow = 0

; Twitter Settings
twitter.openInNewWindow = 0

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;                                      ;
; SWORD related configuration settings ;
;                                      ;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; XML-Ausgabe der SWORD-Schnittstelle formattieren ("pretty printing")
sword.prettyXml = false

; Inhalt des Elements dcterms:abstract (im Service Document für die Default Collection)
sword.collection.default.abstract = ''

; Inhalt des Elements sword:collectionPolicy (im Service Document für die Default Collection)
sword.collection.default.collectionPolicy = ''

; Inhalt des Elements sword:treatment (im Service Document für die Default Collection)
sword.collection.default.treatment = ''

; Inhalt des Elements sword:acceptPackaging (im Service Document für die Default Collection)
sword.collection.default.acceptPackaging = 'http://www.opus-repository.org/sword/opus4package-v1'

; Definition der Default OPUS Collection, der die via SWORD importierten Dokumente
; zugeordnet werden
; Dieser Parameter muss zwingend in der config.ini definiert werden, damit die
; SWORD-Schnittstelle funktioniert
; Hier muss die Nummer einer Collection innerhalb der Collection Role "Import"
; angegeben werden
; der Name dieser Collection erscheint im Service Document im Element sword:
sword.collection.default.number = 'import'

; contains the URI and version of the server software
sword.generator = 'OPUS 4'
; contains either a human-readable statement describing treatment the deposited
; resource has received or a URI that dereferences to such a description.
sword.treatment = ''

; MIME-Types der Dateien, die importiert werden können
filetypes.default.contentDisposition = 'attachment'

filetypes.pdf.mimeType = 'application/pdf'
filetypes.pdf.contentDisposition = 'inline'
filetypes.txt.mimeType = 'text/plain'
filetypes.htm.mimeType = 'text/html'
filetypes.html.mimeType = 'text/html'

; Validation of identifiers can be configured here.
; Add identifier.validation.[IDENTIFIER_TYPE] and then define the validation class and set message keys.

; Uncomment the following to prevent saving of invalid ISBN.
; identifier.validation.isbn.class = 'Opus_Validate_Isbn'
; identifier.validation.isbn.messageTemplates.form = 'validation_error_form'
; identifier.validation.isbn.messageTemplates.checkdigit = 'validation_error_checkdigit'

; Uncomment the following to prevent saving of invalid ISSN.
; identifier.validation.issn.class = 'Opus_Validate_Issn'
; identifier.validation.issn.messageTemplates.form = 'validation_error_form'
; identifier.validation.issn.messageTemplates.checkdigit = 'validation_error_checkdigit'

[staging : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
phpSettings.error_reporting = E_ALL | E_STRICT

errorController.showException = 1
errorController.showRequest = 1
resources.frontController.params.displayExceptions = 1

deliver.logrequest = true
deliver.logoutput = true

[testing : production]
security = 0

db.params.profiler = true
db.params.showqueries = true
db.params.maxqueries = 5000

phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
phpSettings.error_reporting = E_ALL | E_STRICT

errorController.showException = 1
errorController.showRequest = 1 ; TODO not used yet
resources.frontController.params.displayExceptions = 1

log.level = DEBUG
log.untranslated = true

; This is the urn test namespace of KOBV
urn.autoCreate = 1
urn.nid = nbn
urn.nss = de:kobv:test-opus

; E-Mail Settings for CI
mail.opus.smtp = localhost
mail.opus.port = 25000

; Used for notifications and OAI 'Identify' requests
mail.opus.address = opus4ci@example.org ; email address of administrator
mail.opus.name = "OPUS 4 CI"; Name of administrator

[development : production]
db.params.profiler = true
db.params.showqueries = true
db.params.maxqueries = 5000

phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
phpSettings.error_reporting = E_ALL | E_STRICT

errorController.showException = 1
errorController.showRequest = 1 ; TODO not used yet
resources.frontController.params.displayExceptions = 1

; LOGGING CONFIGURATION (OPTIONAL)
; Use Zend_Log constants (e.g. DEBUG, INFO, WARN, ERR)
log.level = DEBUG
log.untranslated = true

; This is the urn test namespace of KOBV
urn.autoCreate = 1
urn.nid = nbn
urn.nss = de:kobv:test-opus
